<div class="container my-4">
  <div class="bet-card">
    <div class="bet-card-header">
      <h2 class="mb-0">âš¡ Betting Strategy Calculator</h2>
    </div>

    <div class="bet-card-body">
      <form class="row g-2">
        <div class="col-6 col-md-3">
          <label class="bet-label">Team A Odds</label>
          <input
            type="number"
            class="form-control bet-input"
            [(ngModel)]="teamAOdds"
            name="teamAOdds"
            (ngModelChange)="onInputChange(lastChanged || '')"
            step="0.01"
          />
        </div>

        <div class="col-6 col-md-3">
          <label class="bet-label">Team B Odds</label>
          <input
            type="number"
            class="form-control bet-input"
            [(ngModel)]="teamBOdds"
            name="teamBOdds"
            (ngModelChange)="onInputChange(lastChanged || '')"
            step="0.01"
          />
        </div>

        <div class="col-6 col-md-3">
          <label class="bet-label">Target Payout ($)</label>
          <input
            type="number"
            class="form-control bet-input"
            [(ngModel)]="targetPayout"
            name="targetPayout"
            (ngModelChange)="onInputChange('targetPayout')"
            step="1"
          />
        </div>

        <div class="col-6 col-md-3">
          <label class="bet-label">Total Stake ($)</label>
          <input
            type="number"
            class="form-control bet-input"
            [(ngModel)]="totalStake"
            name="totalStake"
            (ngModelChange)="onInputChange('totalStake')"
            step="1"
          />
        </div>
      </form>

      <hr *ngIf="stakeA && stakeB" class="mt-3 mb-2" />

      <div *ngIf="stakeA && stakeB">
        <div class="row">
          <div class="col-md-6 mb-3 mb-md-0">
            <div class="outcome-title">Summary</div>
            <ul class="list-group">
              <li class="list-group-item d-flex justify-content-between">
                <span>Stake on Team A</span>
                <span class="fw-bold">${{ stakeA.toFixed(2) }}</span>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Stake on Team B</span>
                <span class="fw-bold">${{ stakeB.toFixed(2) }}</span>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Total Stake</span>
                <span class="fw-bold">${{ totalStake.toFixed(2) }}</span>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Target Payout</span>
                <span class="fw-bold">${{ targetPayout.toFixed(2) }}</span>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Max Potential Loss</span>
                <span class="fw-bold text-danger"
                  >${{ maxLoss.toFixed(2) }}</span
                >
              </li>
            </ul>
          </div>

          <div class="col-md-6">
            <div class="outcome-title">Possible Outcomes</div>
            <ul class="list-group">
              <li class="list-group-item d-flex justify-content-between">
                <span>Profit/Loss if Team A wins</span>
                <span
                  class="fw-bold"
                  [class.text-success]="teamAWinsProfit >= 0"
                  [class.text-danger]="teamAWinsProfit < 0"
                  >${{ teamAWinsProfit.toFixed(2) }}</span
                >
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Profit/Loss if Team B wins</span>
                <span
                  class="fw-bold"
                  [class.text-success]="teamBWinsProfit >= 0"
                  [class.text-danger]="teamBWinsProfit < 0"
                  >${{ teamBWinsProfit.toFixed(2) }}</span
                >
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Loss if both lose</span>
                <span class="text-danger fw-bold"
                  >${{ bothLoseLoss.toFixed(2) }}</span
                >
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Profit/Loss if both win (promo)</span>
                <span
                  class="fw-bold"
                  [class.text-success]="bothWinProfit >= 0"
                  [class.text-danger]="bothWinProfit < 0"
                  >${{ bothWinProfit.toFixed(2) }}</span
                >
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>Net Profit/Loss (worst win case)</span>
                <span
                  class="fw-bold"
                  [class.text-success]="netProfitOrLoss >= 0"
                  [class.text-danger]="netProfitOrLoss < 0"
                  >${{ netProfitOrLoss.toFixed(2) }}</span
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
